<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=tGao7ZPoloMxQHxq-2oxNA');ol{margin:0;padding:0}table td,table th{padding:0}.c9{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Times New Roman";font-style:normal}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Times New Roman";font-style:normal}.c12{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Times New Roman";font-style:normal}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Times New Roman";font-style:normal}.c14{color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;font-size:13pt;font-family:"Times New Roman";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Cantarell";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c18{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c7{font-size:12pt;font-family:"Times New Roman";color:#1155cc;font-weight:400;text-decoration:underline}.c16{font-size:13pt;font-family:"Times New Roman";font-weight:700;text-decoration:underline}.c15{font-size:14pt;font-family:"Times New Roman";font-weight:700;text-decoration:underline}.c10{font-size:12pt;font-family:"Times New Roman";font-weight:400}.c13{font-size:12pt;font-family:"Cantarell";font-weight:400}.c17{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c3{color:inherit;text-decoration:inherit}.c4{height:11pt}.c8{text-indent:36pt}.c6{margin-left:36pt}.c11{margin-left:72pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c17"><p class="c18"><span class="c15">Quick Guide : Adding Fields to Normative Types</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0 c8"><span class="c5">This document serves as a quick guide on how to add extra fields to a normative type pvData structure.</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c9">Prerequisites:</span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Build of EPICS </span><span class="c7"><a class="c3" href="https://www.google.com/url?q=https://www.aps.anl.gov/epics/download/base/index.php&amp;sa=D&amp;ust=1499962129947000&amp;usg=AFQjCNGMlFoJ-BWfRcBirgQejJJ_ftFURQ">v3</a></span><span class="c10">&nbsp;and </span><span class="c7"><a class="c3" href="https://www.google.com/url?q=https://sourceforge.net/projects/epics-pvdata/files/&amp;sa=D&amp;ust=1499962129948000&amp;usg=AFQjCNG1CCPGpaugteXAr8DkSNPRvrQ-CQ">v4</a></span><span class="c5">. </span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Familiarity with the EPICS v4 modules: </span><span class="c7"><a class="c3" href="https://www.google.com/url?q=http://epics-pvdata.sourceforge.net/docbuild/pvDataCPP/tip/documentation/pvDataCPP.html&amp;sa=D&amp;ust=1499962129948000&amp;usg=AFQjCNEShHzicL_R0OUHP1kdn2-liaLu3g">pvDataCPP</a></span><span class="c10">, </span><span class="c7"><a class="c3" href="https://www.google.com/url?q=http://epics-pvdata.sourceforge.net/docbuild/normativeTypesCPP/tip/documentation/ntCPP.html&amp;sa=D&amp;ust=1499962129949000&amp;usg=AFQjCNFB5IQrFZeLCE1rYqKOM_LnQBCSJQ">normativeTypesCPP.</a></span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0 c8"><span class="c10">The pvData module allows for the creation of custom pvData structures with an arbitrary number of fields. The fields can be of any type defined by pvData, or a nested pvData structure. To allow interoperability between different code bases, a standardised definition of structures, normative types, also exists. These normative types are not defined as separate types from the pvData structures. Normative types are simply standardised specifications for pvData structures. These definitions are specified in the </span><span class="c7"><a class="c3" href="https://www.google.com/url?q=http://epics-pvdata.sourceforge.net/docbuild/normativeTypesCPP/tip/documentation/ntCPP.html&amp;sa=D&amp;ust=1499962129949000&amp;usg=AFQjCNFB5IQrFZeLCE1rYqKOM_LnQBCSJQ">normative type documentation</a></span><span class="c5">. </span></p><p class="c0 c8"><span class="c5">The documentation specifies that all normative types have certain fields that are required and allow for certain fields that are optional. What fields are required is dependent on the specific normative type. However every normative type is also allowed any arbitrary number of extra fields. These fields can be any pvData structure or pvData type. </span></p><p class="c0 c8"><span class="c5">The purpose of this document is thus to provide an example of how to add extra fields to a normative type structure. As mentioned above, this field can be any pvData type or pvData structure.</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0"><span class="c16">Instantiating a Normative Type pvData Structure</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Every normative type has an associated builder class. For example, instances of &lsquo;</span><span class="c7"><a class="c3" href="https://www.google.com/url?q=http://epics-pvdata.sourceforge.net/docbuild/normativeTypesCPP/tip/documentation/ntCPP.html%23normative_type_ntscalar&amp;sa=D&amp;ust=1499962129950000&amp;usg=AFQjCNGlzjVC8KqK0AskO2i1bz257B3Rdg">ntScalar</a></span><span class="c10">&rsquo; (the scalar normative type) are allocated using the &lsquo;</span><span class="c7"><a class="c3" href="https://www.google.com/url?q=http://epics-pvdata.sourceforge.net/docbuild/normativeTypesCPP/tip/documentation/html/classepics_1_1nt_1_1detail_1_1NTScalarBuilder.html&amp;sa=D&amp;ust=1499962129951000&amp;usg=AFQjCNE31JvKJWp6_z47jIQg17FvxaQLhw">ntScalarBuilder</a></span><span class="c5">&rsquo; class. To obtain the builder class, use the associated &lsquo;createBuilder()&rsquo; method. </span></p><p class="c0 c8"><span class="c5">For example:</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">NTScalarBuilderPtr ntScalarBuilder = NTScalar::createBuilder();</span></p><p class="c0 c8"><span class="c5">The normative type is then defined by using the builder&rsquo;s &lsquo;add*()&rsquo; methods. </span></p><p class="c0 c6"><span class="c5">For example:</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">PVStructurePtr pvStructure = ntScalarBuilder-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value(pvDouble)-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addAlarm()-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addTimeStamp()-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createPVStructure();</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0 c8"><span class="c5">This pvData structure is now of the type &lsquo;ntScalar&rsquo; where the scalar value is a double floating point value. The &lsquo;value&rsquo; field is required, and its method is thus not prepended with &lsquo;add&rsquo;. The optional fields (often alarms, timestamps, and other associated metadata) are added to the structure using the &lsquo;add*()&rsquo; methods. </span></p><p class="c0 c4 c8"><span class="c5"></span></p><p class="c0"><span class="c16">Instantiating a Normative Type pvData Structure with Extra Fields</span></p><p class="c0 c4"><span class="c2"></span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To add an extra field to a normative type pvData structure the same builder class is used as before. In this example, a nested pvData structure and a pvData type will be added as two extra fields in the normative type pvData structure.</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0 c8"><span class="c10">Two instances of builder classes, &lsquo;</span><span class="c7"><a class="c3" href="https://www.google.com/url?q=http://epics-pvdata.sourceforge.net/docbuild/pvDataCPP/tip/documentation/html/classepics_1_1pvData_1_1FieldCreate.html&amp;sa=D&amp;ust=1499962129953000&amp;usg=AFQjCNHl0AIN-Gz2zMd22p-J3m9rxtTlJg">FieldCreate</a></span><span class="c10">&rsquo; and &lsquo;</span><span class="c7"><a class="c3" href="https://www.google.com/url?q=http://epics-pvdata.sourceforge.net/docbuild/pvDataCPP/tip/documentation/html/classepics_1_1pvData_1_1PVDataCreate.html&amp;sa=D&amp;ust=1499962129954000&amp;usg=AFQjCNEGDSN0-sjQ5k43pBWEQxqD_r7ClQ">PVDataCreate</a></span><span class="c5">&rsquo;, are needed to define the nested structure. These singleton class instances are retrieved using their respective &lsquo;get*()&rsquo; methods. </span></p><p class="c0 c8"><span class="c5">For example:</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">FieldCreatePtr fieldCreate = getFieldCreate();</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PVDataCreatePtr pvDataCreate = getPVDataCreate();</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FieldCreate is then used to define the nested structure. It&rsquo;s important to note that in this example fieldCreate created an instance of a fieldBuilder object using the createFieldBuilder() method. This is done in-line because the fieldBuilder object is only going to be used once. When creating multiple structures it is better to create a single instance of a fieldBuilder object, and then use it through a pointer. Creating it in-line, as shown here, would be inefficient for creating multiple structures, because a new instance would be allocated for every structure. One instance of a field builder can create any arbitrary number of structures over its lifetime. </span></p><p class="c0 c8"><span class="c5">For example:</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">StructureConstPtr structure = fieldCreate-&gt;createFieldBuilder()-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&ldquo;a_long_integer&rdquo;, pvLong)-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&ldquo;a_double&rdquo;, pvDouble)-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&ldquo;are_we_having_fun_yet&rdquo;, pvBoolean)-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createStructure();</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0 c8"><span class="c5">Use the PVDataCreate instance to create a PVStructure from the previously defined &lsquo;structure&rsquo;. </span></p><p class="c0 c8"><span class="c5">For example:</span></p><p class="c0 c8"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0 c8"><span class="c1">PVStructurePtr nestedPVStructure =</span></p><p class="c0 c11"><span class="c1">pvDataCreate-&gt;createPVStructure(structure);</span></p><p class="c0 c4 c6"><span class="c1"></span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To add the pvData type as an extra field request an instance of the builder class, &lsquo;standardField&rsquo;. </span></p><p class="c0 c8"><span class="c5">For example:</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">StandardFieldPtr standardField = getStandardField();</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adding the type as an extra field can be done inline when creating the normative type pvData structure. </span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c5">Creating the normative type with additional fields:</span></p><p class="c0 c4 c6"><span class="c1"></span></p><p class="c0 c6"><span class="c1">PVStructurePtr pvStructure = ntScalarBuilder-&gt;</span></p><p class="c0 c6"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value(pvDouble)-&gt;</span></p><p class="c0 c6"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addAlarm()-&gt;</span></p><p class="c0 c6"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addTimeStamp()-&gt;</span></p><p class="c0 c8 c6"><span class="c1">add( &ldquo;nested_structure&rdquo;, nestedPVStructure-&gt;getField() )-&gt;</span></p><p class="c0 c6"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add( &ldquo;extra_double&rdquo;, standardField-&gt;scalar(</span></p><p class="c0 c8 c11"><span class="c1">pvDouble, &ldquo;value&rdquo;)-&gt;getField(&ldquo;value&rdquo;) )-&gt;</span></p><p class="c0 c11"><span class="c13">createPVStructure();</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c14">All of the code:</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">NTScalarBuilderPtr ntScalarBuilder = NTScalar::createBuilder();</span></p><p class="c0 c8"><span class="c1">PVStructurePtr pvStructure = ntScalarBuilder-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value(pvDouble)-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addAlarm()-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addTimeStamp()-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createPVStructure();</span></p><p class="c0 c8"><span class="c1">FieldCreatePtr fieldCreate = getFieldCreate();</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PVDataCreatePtr pvDataCreate = getPVDataCreate();</span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">StructureConstPtr structure = fieldCreate-&gt;createFieldBuilder()-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&ldquo;a_long_integer&rdquo;, pvLong)-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&ldquo;a_double&rdquo;, pvDouble)-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&ldquo;are_we_having_fun_yet&rdquo;, pvBoolean)-&gt;</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createStructure();</span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">PVStructurePtr nestedPVStructure =</span></p><p class="c0 c11"><span class="c1">pvDataCreate-&gt;createPVStructure(structure);</span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">StandardFieldPtr standardField = getStandardField();</span></p><p class="c0"><span class="c10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">PVStructurePtr pvStructure = ntScalarBuilder-&gt;</span></p><p class="c0 c6"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value(pvDouble)-&gt;</span></p><p class="c0 c6"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addAlarm()-&gt;</span></p><p class="c0 c6"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addTimeStamp()-&gt;</span></p><p class="c0 c8 c6"><span class="c1">add( &ldquo;nested_structure&rdquo;, nestedPVStructure-&gt;getField() )-&gt;</span></p><p class="c0 c8"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add( &ldquo;extra_double&rdquo;, standardField-&gt;scalar(</span></p><p class="c0 c8 c11"><span class="c1">pvDouble, &ldquo;value&rdquo;)-&gt;getField(&ldquo;value&rdquo;) )-&gt;</span></p><p class="c0 c11"><span class="c13">createPVStructure();</span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0"><span class="c5">The resulting normative type will be of the structure:</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0 c8"><span class="c1">epics:nt/NTScalar:1.0</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double value</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alarm_t alarm</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int severity</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int status</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string message</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_t timeStamp</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long secondsPastEpoch</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int nanoseconds</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int userTag</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;structure nested_structure</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long a_long_integer</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double a_double</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean are_we_having_fun_yet</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double extra_double</span></p><p class="c0 c4"><span class="c1"></span></p><p class="c0 c8"><span class="c5">After the record has been created, and the code is running, using &lsquo;pvinfo recordName&rsquo; or &lsquo;pvget -r &ldquo;&rdquo; recordName&rsquo; will produce the structure above on the command line. </span></p><p class="c0 c4"><span class="c5"></span></p><p class="c0 c8"><span class="c10">There is code </span><span class="c7"><a class="c3" href="https://www.google.com/url?q=https://github.com/es-sns121/ntAddFields&amp;sa=D&amp;ust=1499962129962000&amp;usg=AFQjCNEwlEbYTYC2P0LMKM8wgolWMQFfWw">available</a></span><span class="c5">&nbsp;that demonstrates creating this exact record and hosting it on an EPICS v4 pvDatabase.</span></p></body></html>